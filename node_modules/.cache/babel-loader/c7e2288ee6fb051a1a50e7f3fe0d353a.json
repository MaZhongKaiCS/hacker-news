{"remainingRequest":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/babel-loader/lib/index.js!/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mazhongkai/Desktop/hacker-news/hacker-news/src/components/commentBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/src/components/commentBox.vue","mtime":1641913301259},{"path":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/babel.config.js","mtime":1641893661375},{"path":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/cache-loader/dist/cjs.js","mtime":1641893649049},{"path":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/babel-loader/lib/index.js","mtime":1641893649987},{"path":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/cache-loader/dist/cjs.js","mtime":1641893649049},{"path":"/Users/mazhongkai/Desktop/hacker-news/hacker-news/node_modules/vue-loader/lib/index.js","mtime":1641893650400}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgbmFtZTogJ2lucHV0VGV4dEJveCcsCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21tZW50c0xpc3Q6IFtdLAogICAgICAvLyDor4TorrrliJfooagKICAgICAgdXNlck5hbWU6ICcnLAogICAgICAvLyDnlKjmiLflkI0KICAgICAgdXNlckNvbW1lbnQ6ICcnLAogICAgICAvLyDor4TorrrlhoXlrrkKICAgICAgcmVwbHlVc2VyTmFtZTogJycsCiAgICAgIC8vIOWbnuWkjeeUqOaIt+WQjQogICAgICByZXBseVVzZXJDb21tZW50OiAnJyAvLyDlm57lpI3lhoXlrrkKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+WIGxvY2FsU3RvcmFnZSDkuK3nmoTor4TorrrliJfooagKICAgIGxvY2FsQ29tbWVudHM6IGZ1bmN0aW9uIGxvY2FsQ29tbWVudHMoKSB7CiAgICAgIHRoaXMuY29tbWVudHNMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29tbWVudHMnKSB8fCAnW10nKTsKICAgIH0sCiAgICAvLyDmt7vliqDmlrDnmoTor4TorrrliLDor4TorrrliJfooajkuK0KICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQoKSB7CiAgICAgIC8vIOiOt+WPluW9k+WJjeivhOiuugogICAgICB2YXIgY29tbWVudCA9IHsKICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAvLyDor4Torrrml7bpl7TvvIzllK/kuIDmgKfkvZzkuLoga2V5CiAgICAgICAgdXNlcjogdGhpcy51c2VyTmFtZSwKICAgICAgICAvLyDnlKjmiLflkI0KICAgICAgICBjb250ZW50OiB0aGlzLnVzZXJDb21tZW50LAogICAgICAgIC8vIOivhOiuuuWGheWuuQogICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgLy8gY29udGVudCDlh7rnjrDjgIHpmpDol48KICAgICAgICByZXBseVNob3c6IGZhbHNlLAogICAgICAgIC8vIOWbnuWkjeWMuuaYr+WQpuWHuueOsAogICAgICAgIHJlcGx5OiBbXSAvLyDlm57lpI3nmoTliJfooagKCiAgICAgIH07IC8vIOS7jiBsb2NhbFN0b3JhZ2Ug5Lit6I635Y+W6K+E6K665YiX6KGoCgogICAgICB2YXIgbGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvbW1lbnRzJykgfHwgJ1tdJyk7CgogICAgICBpZiAoY29tbWVudC51c2VyICYmIGNvbW1lbnQuY29udGVudCkgewogICAgICAgIGxpc3QucHVzaChjb21tZW50KTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29tbWVudHMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7CiAgICAgICAgdGhpcy5sb2NhbENvbW1lbnRzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMudXNlck5hbWUgPSAnJzsKICAgICAgdGhpcy51c2VyQ29tbWVudCA9ICcnOwogICAgfSwKICAgIGhpZGVDb250ZW50OiBmdW5jdGlvbiBoaWRlQ29udGVudChpdGVtKSB7CiAgICAgIGl0ZW0uc2hvdyA9ICFpdGVtLnNob3c7IC8vIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5yZXBseS5sZW5ndGg7IGkrKykgewogICAgICAvLyAgIGl0ZW0ucmVwbHlbaV0uc2hvdyA9ICFpdGVtLnJlcGx5W2ldLnNob3c7CiAgICAgIC8vIH0KICAgIH0sCiAgICBhZGRSZXBseTogZnVuY3Rpb24gYWRkUmVwbHkoaXRlbSwgaW5kZXgpIHsKICAgICAgLy8g6I635Y+W5b2T5YmN5Zue5aSNCiAgICAgIHZhciByZXBseSA9IHsKICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICB1c2VyOiB0aGlzLnJlcGx5VXNlck5hbWUsCiAgICAgICAgY29tbWVudDogdGhpcy5yZXBseVVzZXJDb21tZW50LAogICAgICAgIHNob3c6IHRydWUKICAgICAgfTsgLy8g5LuOIGxvY2FsU3RvcmFnZSDkuK3ojrflj5bor4TorrrliJfooagKCiAgICAgIHZhciBsaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29tbWVudHMnKSB8fCAnW10nKTsKCiAgICAgIGlmIChyZXBseS51c2VyICYmIHJlcGx5LmNvbW1lbnQpIHsKICAgICAgICBjb25zb2xlLmxvZyh0cnVlKTsKICAgICAgICBsaXN0W2luZGV4XS5yZXBseS5wdXNoKHJlcGx5KTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29tbWVudHMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7CiAgICAgICAgdGhpcy5sb2NhbENvbW1lbnRzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMucmVwbHlVc2VyTmFtZSA9ICcnOwogICAgICB0aGlzLnJlcGx5VXNlckNvbW1lbnQgPSAnJzsKICAgICAgaXRlbS5yZXBseVNob3cgPSAhaXRlbS5yZXBseVNob3c7CiAgICB9LAogICAgY2hhbmdlSXNSZXBseTogZnVuY3Rpb24gY2hhbmdlSXNSZXBseShpdGVtKSB7CiAgICAgIGl0ZW0ucmVwbHlTaG93ID0gIWl0ZW0ucmVwbHlTaG93OwogICAgfSwKICAgIGhpZGVSZXBseUl0ZW1zOiBmdW5jdGlvbiBoaWRlUmVwbHlJdGVtcyhyZXBseUl0ZW1zKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlcGx5SXRlbXMpOwogICAgICByZXBseUl0ZW1zLnNob3cgPSAhcmVwbHlJdGVtcy5zaG93OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIOWunuS+i+WMluS5i+WQjuiOt+WPluivhOiuuuWIl+ihqAogICAgdGhpcy5sb2NhbENvbW1lbnRzKCk7CiAgICBjb25zb2xlLmxvZyh0aGlzLmNvbW1lbnRzTGlzdCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30KfTs="},{"version":3,"sources":["commentBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"commentBox\">\n  <div class=\"inputTextBox\">\n    <label class=\"title\">用户名</label>\n    <input class=\"inputArea\" type=\"text\" placeholder=\"你的用户名\" v-model.trim=\"userName\">\n    <label class=\"title\">评论内容</label>\n    <textarea class=\"inputArea\" name=\"comment\" id=\"comment\" cols=\"60\" rows=\"10\" placeholder=\"评论内容\" v-model=\"userComment\"></textarea>\n    <button class=\"addComment\" @click=\"addComment()\">添加评论</button>\n  </div>\n  <div class=\"commentList\">\n    <ul class=\"list-group\">\n        <li class=\"list-group-items\" v-for=\"(item, index) in commentsList\" :key=\"item.id\">\n            <span @click=\"hideContent(item)\">[-]   </span>\n            <span class=\"user\">用户： {{item.user}}</span> <br>\n            <div class=\"contentBox\" v-show=\"item.show\">\n              <div class=\"content\">{{item.content}}</div>\n              <button class=\"reply\" @click=\"changeIsReply(item)\">回复</button>\n              <div class=\"replyBox\" v-show=\"item.replyShow\">\n                <label class=\"replyTitle\">用户名</label>\n                <input class=\"replyInputArea\" type=\"text\" placeholder=\"你的用户名\" v-model.trim=\"replyUserName\">\n                <label class=\"replyTitle\">回复内容</label>\n                <textarea class=\"replyInputArea\" name=\"comment\" id=\"comment\" cols=\"50\" rows=\"8\" placeholder=\"回复内容\" v-model=\"replyUserComment\"></textarea>\n                <button class=\"replyAddComment\" @click=\"addReply(item, index)\">回复</button>\n              </div>\n              <div class=\"replyList\">\n                <ul class=\"reply-group\">\n                  <li class=\"reply-group-items\" v-for=\"replyItems in item.reply\" :key=\"replyItems.id\"> \n                    <span @click=\"hideReplyItems(replyItems)\">[-]   </span>\n                    <span class=\"replyUser\">用户： {{replyItems.user}}</span> <br>\n                    <div class=\"replyContent\" v-show=\"replyItems.show\">{{replyItems.comment}}</div>\n                    <button class=\"replyButton\">回复</button>\n                  </li>\n                </ul>\n              </div>\n            </div>\n      </li>\n    </ul>\n    \n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  components: {  },\n  name: 'inputTextBox',\n  props: {\n  },\n  data() {\n    return {   \n      commentsList:[],// 评论列表\n      userName:'', // 用户名\n      userComment:'', // 评论内容\n      replyUserName: '', // 回复用户名\n      replyUserComment: '', // 回复内容\n    }\n  },\n  methods: {\n    // 获取 localStorage 中的评论列表\n    localComments() {\n      this.commentsList = JSON.parse(localStorage.getItem('comments') || '[]')\n    },\n    // 添加新的评论到评论列表中\n    addComment() {\n      // 获取当前评论\n      let comment = {\n        id: Date.now(), // 评论时间，唯一性作为 key\n        user: this.userName, // 用户名\n        content: this.userComment, // 评论内容\n        show: true, // content 出现、隐藏\n        replyShow: false, // 回复区是否出现\n        reply: [] // 回复的列表\n      }\n      // 从 localStorage 中获取评论列表\n      let list = JSON.parse(localStorage.getItem('comments') || '[]')\n      if (comment.user && comment.content) {\n        list.push(comment)\n        localStorage.setItem('comments', JSON.stringify(list))\n        this.localComments()\n      }\n      this.userName = ''\n      this.userComment = ''\n    },\n    hideContent(item) {\n      item.show = !item.show\n      // for (let i = 0; i < item.reply.length; i++) {\n      //   item.reply[i].show = !item.reply[i].show;\n      // }\n    },\n    addReply(item, index) {\n      // 获取当前回复\n      let reply = {\n        id: Date.now(),\n        user: this.replyUserName,\n        comment: this.replyUserComment,\n        show: true\n      }\n      // 从 localStorage 中获取评论列表\n      let list = JSON.parse(localStorage.getItem('comments') || '[]')\n      if (reply.user && reply.comment) {\n        console.log(true);\n        list[index].reply.push(reply)\n        localStorage.setItem('comments', JSON.stringify(list))\n        this.localComments()\n      } \n      this.replyUserName = ''\n      this.replyUserComment = ''\n      item.replyShow = !item.replyShow\n    },\n    changeIsReply(item) {\n      item.replyShow = !item.replyShow\n    },\n    hideReplyItems(replyItems) {\n      console.log(replyItems);\n      replyItems.show = !replyItems.show\n    }\n  },\n  created() {\n    // 实例化之后获取评论列表\n    this.localComments()\n    console.log(this.commentsList);\n  },\n  mounted() {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.commentBox{\n    .inputTextBox{\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      .title {\n        margin: 10px 0 0 0;\n      }\n      .inputArea {\n        margin: 10px 0 0 0;\n      }\n      .addComment{\n        margin: 10px 0 0 0;\n      }\n    }\n    .commentList{\n      .list-group{\n        .list-group-items{\n          margin: 40px 0 0 0;\n          .user{\n            margin: 10px 0 10px 0;\n            font-size: 20px;\n            font-weight: 500;\n          }\n          .contentBox{\n              .content{\n                margin: 10px 0 10px 0;\n              }\n              .reply{\n              }\n              .replyBox{\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: flex-start;\n                .replyTitle{\n\n                }\n                .replyInputArea{\n\n                }\n              }\n              .replyList{\n                .reply-group{\n\n                }\n                .reply-group-items{\n                  .replyUser{\n                    margin: 10px 0 10px 0;\n                    font-size: 14px;\n                    font-weight: 500;\n                  }\n                  .replyContent{\n                    margin: 10px 0 10px 0;\n                    font-size: 14px;\n                  }\n                }\n              }\n          }\n        }\n      }\n    }\n}\n\n</style>\n\n"],"sourceRoot":"src/components"}]}